---
title: 二分查找
top: false
cover: false
hide: true
toc: true
mathjax: false
date: 2021-12-30 06:26:40
password:
summary:
tags:
    - 二分查找
    - LeetCode
categories:
    - Algorithms
img:
---

## 模板 #1

+ 初始条件：left = 0, right = length - 1
+ 终止：left > right
+ 向左查找：right = mid - 1
+ 向右查找：left = mid + 1

```C++
int binarySearch(vector<int>& nums, int target) {
    if (nums.size() == 0)
        return -1;
    int left = 0, right = nums.size() - 1;
    while (left <= right) {
        int mid = left + (right - left) / 2;
        // 不需要后处理，每一步都在检查是否找到了元素，如果到达末尾，则知道未找到该元素
        if (nums[mid] == target)
            return mid;
        else if (nums[mid] > target)
            right = mid - 1;
        else
            left = mid + 1;
    }
    // End Condition: left > right
    return -1;
}
```

## 模板 #2

+ 初始条件：left = 0, right = length
+ 终止：left == right
+ 向左查找：right = mid
+ 向右查找：left = mid + 1

```C++
int binarSearch(vector<int>& nums, int target) {
    if (nums.size() == 0)
        return -1;
    int left = 0, right = nums.size();

    while (left < right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] == target)
            return mid;
        else if (nums[mid] < target) {
            left = mid + 1;
        } else {
            right = mid;
        }
    }
    // 需要进行后处理。当你剩下1个元素时，循环结束。需要评估剩余元素是否符合条件
    if (left != nums.size() && nums[left] == target)
        return left;
    return -1;
}
```

## 模板 #3

```C++
int binarySearch(vector<int>& nums, int target){
    if (nums.size() == 0)
        return -1;

    int left = 0, right = nums.size() - 1;
    while (left + 1 < right){
        // Prevent (left + right) overflow
        int mid = left + (right - left) / 2;
        if (nums[mid] == target) {
            return mid;
        } else if (nums[mid] < target) {
            left = mid;
        } else {
            right = mid;
        }
    }

    // Post-processing:
    // End Condition: left + 1 == right
    if(nums[left] == target) return left;
    if(nums[right] == target) return right;
    return -1;
}
```
